{
  "info": {
    "name": "OnToYou API",
    "description": "API collection for OnToYou platform (MongoDB Atlas)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://ontoyouserver.vercel.app/api/v1",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login (Send OTP)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile_number\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mobile_number\": \"9876543210\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/verify",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "verify"]
            }
          }
        }
      ]
    },
    {
      "name": "Profile",
      "item": [
        {
          "name": "Get Presets",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/presets",
              "host": ["{{baseUrl}}"],
              "path": ["presets"]
            }
          }
        },
        {
          "name": "Create Profile",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{userId}}\",\n  \"display_name\": \"Ayush V Nair\",\n  \"profile_photo\": \"https://cdn.ontoyou.com/avatars/default.jpg\",\n  \"short_bio\": \"Traveler and foodie\",\n  \"gender\": \"Male\",\n  \"dob\": \"2002-11-20\",\n  \"city\": \"Bangalore\",\n  \"preset_locations\": [{\"id\": \"6902ec2cc6ba60dd8bda0389\", \"name\": \"OBRONE MALL\"}],\n  \"availability\": {\"Monday\": [18,19,20], \"Friday\": [20]},\n  \"interests\": [\"Movies\", \"Travel\", \"Food & Caf√© Hopping\"],\n  \"preferred_gender\": \"Female\",\n  \"preferred_age_range\": {\"min\": 20, \"max\": 26},\n  \"custom_note\": \"Looking for someone fun\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/profile/create",
              "host": ["{{baseUrl}}"],
              "path": ["profile", "create"]
            }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/profile/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["profile", "{{userId}}"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"short_bio\": \"Updated bio\",\n  \"city\": \"Bangalore\",\n  \"preset_locations\": [{\"id\": \"6902ec2cc6ba60dd8bda0389\", \"name\": \"OBRONE MALL\"}]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/profile/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["profile", "{{userId}}"]
            }
          }
        },
        {
          "name": "Delete Profile",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/profile/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["profile", "{{userId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Banners",
      "item": [
        {
          "name": "Get Banners",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/banners",
              "host": ["{{baseUrl}}"],
              "path": ["banners"]
            }
          }
        },
        {
          "name": "Add Banner",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Weekend Meetup Special\",\n  \"image_url\": \"https://cdn.ontoyou.com/banners/weekend.jpg\",\n  \"target_url\": \"https://ontoyou.com/offer/weekend\",\n  \"active\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/banners",
              "host": ["{{baseUrl}}"],
              "path": ["banners"]
            }
          }
        },
        {
          "name": "Delete Banner",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/banners/{{bannerId}}",
              "host": ["{{baseUrl}}"],
              "path": ["banners", "{{bannerId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Rentals",
      "item": [
        {
          "name": "Initiate Rental",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{userId}}\",\n  \"location\": {\n    \"city\": \"Bangalore\",\n    \"preset_location_id\": \"6902ec2cc6ba60dd8bda0389\",\n    \"preset_location_name\": \"OBRONE MALL\"\n  },\n  \"preferred_age\": {\"min\": 0, \"max\": 100},\n  \"preferred_gender\": [\"Female\"],\n  \"booking_date\": \"2025-11-01\",\n  \"booking_hour_start\": 17,\n  \"booking_hour_end\": 19,\n  \"limit\": 3\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/rentals/initiate",
              "host": ["{{baseUrl}}"],
              "path": ["rentals", "initiate"]
            }
          }
        },
        {
          "name": "Confirm Rental",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"renter_id\": \"{{userId}}\",\n  \"host_id\": \"HOST_USER_ID\",\n  \"booking_date\": \"2025-11-01\",\n  \"booking_hour\": 18,\n  \"duration_hours\": 2,\n  \"credits_used\": 2,\n  \"location\": {\n    \"city\": \"Bangalore\",\n    \"preset_location_id\": \"loc_kora\",\n    \"preset_location_name\": \"Koramangala Meetup Spot\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/rentals/confirm",
              "host": ["{{baseUrl}}"],
              "path": ["rentals", "confirm"]
            }
          }
        },
        {
          "name": "Verify Rental OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rental_id\": \"RENTAL_ID\",\n  \"user_id\": \"{{userId}}\",\n  \"otp\": \"1234\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/rentals/otp-verify",
              "host": ["{{baseUrl}}"],
              "path": ["rentals", "otp-verify"]
            }
          }
        }
      ]
    },
    {
      "name": "Matches",
      "item": [
        {
          "name": "Get Top Matches",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/matches/top?user_id={{userId}}&city=Bangalore&booking_date=2025-11-01&booking_hour=18",
              "host": ["{{baseUrl}}"],
              "path": ["matches", "top"],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{userId}}"
                },
                {
                  "key": "city",
                  "value": "Bangalore"
                },
                {
                  "key": "booking_date",
                  "value": "2025-11-01"
                },
                {
                  "key": "booking_hour",
                  "value": "18"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Locations",
      "item": [
        {
          "name": "Get Districts (default)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/locations",
              "host": ["{{baseUrl}}"],
              "path": ["locations"]
            }
          }
        },
        {
          "name": "Get Locations by District",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/locations?district=Kochi",
              "host": ["{{baseUrl}}"],
              "path": ["locations"],
              "query": [
                {
                  "key": "district",
                  "value": "Kochi"
                }
              ]
            }
          }
        },
        {
          "name": "Add Location (admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"district\": \"Kochi\",\n  \"place_name\": \"Lulu Mall\",\n  \"preset_location_name\": \"Lulu Mall\",\n  \"spot_type\": \"mall\",\n  \"description\": \"Popular shopping mall\",\n  \"city\": \"Kochi\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/locations",
              "host": ["{{baseUrl}}"],
              "path": ["locations"]
            }
          }
        },
        {
          "name": "Delete Location (admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/locations/loc_lulu",
              "host": ["{{baseUrl}}"],
              "path": ["locations", "loc_lulu"]
            }
          }
        }
      ]
    }
  ]
}